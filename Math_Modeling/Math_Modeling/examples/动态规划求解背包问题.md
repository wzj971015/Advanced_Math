# 问题描述
某工厂生产三种产品，各种产品重量与利润的关系如下表所示：

|种类|重量(T/件)|利润(RMB/件)|
|---|---|---|
|1|2|80|
|2|4|180|
|3|3|130|

现将此三种产品运往市场出售，运输能力总重量不超过6吨，问如何安排使运输总利润最大？

# 问题分析
该问题实际上可以使用线性规划来求解，但是为了引入动态规划的思想以及分析问题解决问题的步骤，因此以这个简单的实例来进行求解；

## 最优化目标函数为
max profits = 80x + 180y + 130z

## 约束条件为
- 2x + 4y + 3z <= 6
- x, y, z >= 0 && x, y, z belongs to N

# 求解步骤
## 建立动态规划模型
1. 阶段划分：k=1,2,3，把装载一种产品看成一个阶段；
2. 状态变量Sk表示第k阶段初可用于装载产品的总容量，s1=6
3. 决策变量dk表示第k阶段装载第k种货物的件数
4. 状态转移方程： S(k+1)=S(k) -ak dk, 其中ak为第k种货物的单件重量
5. 指数函数：vk(sk,dk)表示装载第k种货物dk件所得到的利润，即v1(s1,d1)=80d1,v2(s2,d2)=180d2,v3(s3,d3)=130d3.
6. 基本递推方程(逆序法思想)
> fk(sk) = max {vk(sk,dk) + f(k+1)[s(k+1)]}, 0 <= dk <= [sk/ak]
> f4(s4) = 0


## 用逆序法进行求解
当k=3时，f3(s3)=max{130 d3}, 0 <= d3 <= [s3/3]

其中di^为剩余。

则其结果表示为：

|s3|d3|f3(s3)|d3|
|---|---|---|---|
|0|0|0|0|
|1|0|0|0|
|2|0|0|0|
|3|0|0| |
||1|130|1|
|4|0|0||
||1|130|1|
|5|0|0||
||1|130|1|
|6|0|0||
||1|130||
||2|260|2|

当k=2时，f2(s2) = max {180 d2 + f3(s3)}, 0<=d2<=[s2/4]

其计算结果如下表：

|s2|d2|s3|f3(s3)|f2(s2)|d2^|
|---|---|---|---|---|---|
|0|0|0|0|0|0|
|1|0|1|0|0|0|
|2|0|2|0|0|0|
|3|0|3|130|130|1|
|4|0|4|130|0+130||
||1|0|0|180+0|1|
|5|0|4|130|0+130||
||1|1|180|180+0|1|
|6|0|6|260|0+260||
||1|2|180|180+0|0|


当k=1时，同理可以得到：

|s1|d1|s2|f2(s2)|f1(s1)|d1^|
|---|---|---|---|---|---|
|6|0|6|260|0+260|0|
||1|4|180|80+180||
||2|2|0|160+0||
||3|0|0|240+0|1|

综上所述，最优解有两个：
1. x1=0, x2=0, x3=2;
2. x1=1, x2=1, x3=0


















